import{$ as a}from"./jquery-Da9eaIsk.js";import{f as g}from"./helper-CmIqiOp8.js";import{a as m,A as h,s as b}from"./api-ByUICYev.js";import"./_commonjsHelpers-CqkleIqs.js";import"./toastify-bLbphjvx.js";a(document).ready(function(){const o=a("#blog-list"),r=a("#pagination"),s=a("#blog-template");let c=1;const d=5;function l(n=1){o.html("<p class='text-gray-500'>Đang tải dữ liệu...</p>"),m({url:`${h}/blogs?page=${n}&per_page=${d}`,method:"GET",success:function(e){const t=e.data.data,i=e.data.current_page,f=e.data.last_page;p(t),u(i,f)},error:function(e){console.error("Lỗi API:",e),o.html("<p class='text-red-500'>Lỗi khi tải dữ liệu blog.</p>"),b("Lỗi khi load danh sách","error")}})}function p(n){o.empty(),Array.isArray(n)&&n.length>0?n.forEach(function(e){const t=a(s.html());t.find(".author-name").text(e.user.name),t.find(".author-email").text(e.user.email),t.find(".blog-time").text(g(e.created_at)),t.find(".blog-title").text(e.title),t.find(".blog-content").text(e.description),t.attr("data-id",e.id),t.find(".blog-title").on("click",function(){window.location.href=`blogs/${e.id}`}),o.append(t)}):o.html("<p>Không có blog nào.</p>")}function u(n,e){r.empty();for(let t=1;t<=e;t++){const i=a("<button>").text(t).addClass("px-4 py-2 rounded").addClass(t===n?"bg-blue-600 text-white":"bg-gray-200 hover:bg-blue-200").on("click",function(){c=t,l(t)});r.append(i)}}l(c)});
